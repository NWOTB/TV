<!DOCTYPE HTML>
<html>
	<head>
		<title>TV Online</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<script src="https://aa1286901.github.io/TV/playerjs.js" type="text/javascript"></script>
		
	</head>
        <body>
		<div id="player"></div>

<script>
  // var player = new Playerjs({id:"player", file:"https://live-hls-tvplusonline.cdnvideo.ru/matchtv/index.m3u8?md5=7IF774YV06i5YAgmAW23eQ&e=1563306243"});
getElement('https://www.tvplusonline.ru/tv/tvguide.txt', 'pre', function(element) {
    console.log(element);
});

function getElement(url, selector, c) {
    request(new XMLHttpRequest());

    function request(xhr) {
        xhr.open('GET', 'https://www.tvplusonline.ru/tv/tvguide.txt/' , true);
        xhr.send();
        xhr.onreadystatechange = function() {
            if(xhr.readyState == 4) {
                if(xhr.status == 200) {
                    html = document.createElement('div');
                    html.innerHTML = xhr.responseText;
                    c(html.querySelector(selector));
                }
            }
        }
    }
}
</script>
        </body>
	
</html>
